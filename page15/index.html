<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta content='width=device-width, initial-scale=1.0' name='viewport' />
    <meta content='text/html; charset=utf-8' http-equiv='content-type' />
    <meta content='Nicholas Fine' name='author' />
    <link href='http://feeds.feedburner.com/ndfine' rel='alternate' title='Nicholas Fine' type='application/atom+xml' />
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <script type='text/javascript'>
      //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-126126-3']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      //]]>
    </script>
    <title>Nicholas Fine</title>
  </head>
  <body>
    <div class='navbar'>
      <div class='container'>
        <h1><a class='brand' href='/'>Nicholas Fine</a></h1>
      </div>
    </div>
    <div class='container'>
      <div class='row'>
        <div class='col-md-8'>
          
  <article>
    <div class='panel panel-default'>
      <div class='panel-body'>
        <div class='row'>
          <div class='col-md-12'>
            
            <h3>
              <a href='http://budiansky.blogspot.com/2011/04/one-condition-for-moral-war-success.html'>One condition for moral war -- success</a>
            </h3>
            
          </div>
        </div>
        <div class='row'>
          <div class='col-md-8'>
            <h4>26 Apr 2011</h4>
          </div>
          
            <div class='col-md-pull-6 col-md-2'>
              <h4>
                <a href='/2011/04/26/budiansky.blogspot.com-from-pinboard.html' class='btn btn-info btn-xs'>
                  <span class="glyphicon glyphicon-pushpin"></span>
                </a>
              </h4>
            </div>
          
        </div>
      </div>
    </div>
    
      <blockquote>
        <p>A just war is not merely a war fought in a good cause against a terrible tyrant; there are an infinity of good causes and no shortage of terrible tyrants. A just war is one that can justify the destruction it sows, and the enduring responsibility it entails.  </p>

        <small><cite><a href='http://budiansky.blogspot.com/2011/04/one-condition-for-moral-war-success.html'>Stephen Budiansky</a></cite></small>
      </blockquote>
    
  </article>

  <article>
    <div class='panel panel-default'>
      <div class='panel-body'>
        <div class='row'>
          <div class='col-md-12'>
            
            <h3>
              <a href='/2011/04/01/compiling-compass-on-heroku.html'>Getting Compass to Compile Stylesheets on Heroku</a>
            </h3>
            
          </div>
        </div>
        <div class='row'>
          <div class='col-md-8'>
            <h4>01 Apr 2011</h4>
          </div>
          
        </div>
      </div>
    </div>
    
      <p>While developing <a href="http://groovemux.com">Groovemux</a>, my homage to the late <a href="http://en.wikipedia.org/wiki/Muxtape">Muxtape</a> I kept running into this issue where my stylesheets in compass were not being compiled on heroku correctly, causing a 500 error every time the app was restarted.  </p>

<p>Happily, I ran across <a href="http://frontcube.com/blog/2011/how-to-get-sass-to-work-with-rails-3-on-heroku-without-using-any-plugins">this posting</a>, and it worked like a charm.  </p>

<p>Also, you should listen to the first mix created for Groovemux <a href="http://groovemux.com/tapes/groovemux">here</a>.  I&#39;m fairly certain it only works in Chrome and Safari.</p>

    
  </article>

  <article>
    <div class='panel panel-default'>
      <div class='panel-body'>
        <div class='row'>
          <div class='col-md-12'>
            
            <h3>
              <a href='/2011/03/29/live-shots.html'>Various Pictures Of Live Music 2006-2009</a>
            </h3>
            
          </div>
        </div>
        <div class='row'>
          <div class='col-md-8'>
            <h4>29 Mar 2011</h4>
          </div>
          
        </div>
      </div>
    </div>
    
      <p>Like I mentioned earlier, I had been going through my cache of live music photos.  </p>

<p><a href="/images/livemusic/tbiapb_hnm_1r.jpg"><img src='/images/livemusic/thumbs/tbiapb_hnm_1r.jpg' alt='TBIAPB!, Hot New Mexicans, One Reason, Beer' /></a></p>

<h5>TBIAPB!, Hot New Mexicans, One Reason, Beer @ The Farmhouse, Cleveland MS</h5>

<p><a href="/images/livemusic/legion.jpg"><img src='/images/livemusic/thumbs/legion.jpg' alt='Legion' /></a></p>

<h5>Legion @ Cave9, Birmingham AL</h5>

<p><a href="/images/livemusic/tcpof.jpg"><img src='/images/livemusic/thumbs/tcpof.jpg' alt='The Cleansing Power of Fire' /></a></p>

<h5>The Cleansing Power of Fire @ Cave9, Birmingham AL</h5>

<p><a href="/images/livemusic/lickgoldensky.jpg"><img src='/images/livemusic/thumbs/lickgoldensky.jpg' alt='Lickgoldensky' /></a></p>

<h5>Lickgoldensky @ Cave9, Birmingham AL</h5>

<p><a href="/images/livemusic/hnm.jpg"><img src='/images/livemusic/thumbs/hnm.jpg' alt='Hot New Mexicans' /></a></p>

<h5>Hot New Mexicans @ Hal &amp; Mals, Jackson MS</h5>

<p><a href="/images/livemusic/gaslight_anthem.jpg"><img src='/images/livemusic/thumbs/gaslight_anthem.jpg' alt='Gaslight Anthem' /></a></p>

<h5>Gaslight Anthem @ Cave9, Birmingham AL</h5>

<p><a href="/images/livemusic/glass_and_ashes.jpg"><img src='/images/livemusic/thumbs/glass_and_ashes.jpg' alt='Glass and Ashes' /></a></p>

<h5>Glass and Ashes @ Jake&#39;s, Birmingham AL</h5>

    
  </article>

  <article>
    <div class='panel panel-default'>
      <div class='panel-body'>
        <div class='row'>
          <div class='col-md-12'>
            
            <h3>
              <a href='/2011/02/24/groupwise-max-rails3.html'>Finding The Group-wise Maximum in Rails3 / Arel</a>
            </h3>
            
          </div>
        </div>
        <div class='row'>
          <div class='col-md-8'>
            <h4>24 Feb 2011</h4>
          </div>
          
        </div>
      </div>
    </div>
    
      <p><a href="http://www.isotope11.com/blog/group-wise-max-rails3">cross posted at Isotope11&#39;s blog</a></p>

<p>Recently at work we ran across a situation where we needed an efficient way
to find the <a href="http://dev.mysql.com/doc/refman/5.0/en/example-maximum-column-group-row.html">Group-wise maximum of a certain column</a>
in an efficient manner.  After fighting with and realizing that there is apparently no way to make MySQL
combine an ORDER BY statement with a GROUP BY statement, we were able to get the results with two queries,
but due to the volume of data, this would eventually have too much overhead to be sustainable.<br>
Once I determined that using a left join on itself would be the way to go at the problem, I set 
out to figure out the solution using the new <a href="https://github.com/rails/arel">Arel syntax</a>.</p>

<h5>Example</h5>

<p>This example uses two models, ParentThing and ChildThing, with ChildThing being a basic key-value store.
ChildThings can have duplicate rows with the same key, and we were looking to return only the newest
results for each distinct key found in the ParentThing&#39;s ChildThings.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">class ParentThing &lt; ActiveRecord::Base
  has_many :child_things
end

class ChildThing &lt; ActiveRecord::Base
  belongs_to :parent_thing
end
</code></pre></div>
<p>The solution was to add a single named scope to the ChildThing class:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">class ChildThing &lt; ActiveRecord::Base
  belongs_to :parent_thing

  scope :newest_results, 
    joins(&#39;LEFT JOIN child_things c2 ON child_things.key = c2.key AND child_things.created_at &gt; c2.created_at&#39;),
    where(&#39;c2.key is NULL&#39;)

end
</code></pre></div>
<p>So, now if p is an instance of ParentThing: </p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">p.child_things.newest_results 
</code></pre></div>
<p>will return a collection that contains the newest created ChildThing for each disparate key in the ParentThing&#39;s ChildThing
full collection.</p>

    
  </article>

  <article>
    <div class='panel panel-default'>
      <div class='panel-body'>
        <div class='row'>
          <div class='col-md-12'>
            
            <h3>
              <a href='/2011/02/07/random-links.html'>Some Random Links</a>
            </h3>
            
          </div>
        </div>
        <div class='row'>
          <div class='col-md-8'>
            <h4>07 Feb 2011</h4>
          </div>
          
        </div>
      </div>
    </div>
    
      <p>I&#39;m still not so great on updating this on the regular.  I&#39;ve been digging
through old photos and doing some processing on my huge cache of live music
shots, which has been a fun trip down nostalgia lane.</p>

<p>Beyond that, I&#39;m here to rep:</p>

<p><a href="http://bamareport.blogspot.com/2011/02/university-of-alabama-football-report.html">My favorite Alabama Football blogger in memory of his dog...</a></p>

<blockquote>
<p>My dog is reference-able in a university library system. She&#39;s mentioned by name in the acknowledgments of my master&#39;s thesis.  That&#39;s the section where my classmates put their thesis chairs&#39; names. My thesis chair went on sabbatical for half the damn year; my dog was there every day.</p>
</blockquote>

<p><a href="http://teddziuba.com/2011/02/the-case-against-queues.html">The case against queues...</a></p>

<blockquote>
<p>Depending on your queue implementation, when you pop a message off, it&#39;s gone. The consumer acknowledges receipt of it, and the queue forgets about it. So, if your data processor fails, you&#39;ve got data loss. Collecting messages [with] syslog, your processor program is just processing a text file, and can process it again if something goes wrong. Throw in some split and xargs, and you&#39;ve got parallel processing. Event messages aren&#39;t text? You fucked up. Go buy a subscription to the Microsoft Developer Network.</p>
</blockquote>

    
  </article>


<ul class='pager'>
  
    <li>
      
        <a href='/page14'>Previous</a>
      
    </li>
  
  
    <li>
      <a href='/page16'>Next</a>
    </li>
  
</ul>


        </div>
        <div class='col-md-4'>
          <div class='list-group'>
            <a class='list-group-item' href='http://github.com/yrgoldteeth'>
              GitHub
            </a>
            <a class='list-group-item' href='http://pinboard.in/u:ndfine'>
              Pinboard
            </a>
            <a class='list-group-item' href='http://twitter.com/yrgoldteeth'>
              Twitter
            </a>
            <a class='list-group-item' href='http://instagram.com/yrgoldteeth'>
              Instagram
            </a>
            <a class='list-group-item' href='http://www.goodreads.com/user/show/15896929-nicholas-fine'>
              Goodreads
            </a>
            <a class='list-group-item' href='mailto:nick@ndfine.com'>
              Email
            </a>
            <a class='list-group-item' href='http://feeds.feedburner.com/ndfine'>
              Feed
            </a>
          </div>
          <div class='list-group'>
            <h4 class="list-group-item-heading">Projects / Software</h4>
            <a class='list-group-item' href='https://github.com/yrgoldteeth/crisco'>
              Crisco URL Shortener
            </a>
            <a class='list-group-item' href='http://annotatethebastards.org'>
              Annotate the Bastards!
            </a>
            <a class='list-group-item' href='http://yrgoldteeth.github.com/whereabouts'>
              Whereabouts Rails Plugin
            </a>
            <a class='list-group-item' href='https://github.com/yrgoldteeth/teleportd'>
              Teleportd Gem
            </a>
            <a class='list-group-item' href='https://github.com/yrgoldteeth/city_grid'>
              City Grid Gem
            </a>
            <a class='list-group-item' href='https://github.com/yrgoldteeth/hungrytable'>
              Hungrytable Gem
            </a>
            <a class='list-group-item' href='https://rubygems.org/gems/bootstrap-will_paginate/'>
              Bootstrap-will_paginate Gem
            </a>
            <a class='list-group-item' href='https://rubygems.org/gems/css3-progress-bar-rails/'>
              CSS3-progress-bar-rails Gem
            </a>
          </div>
          <div class='list-group'>
            <h4 class="list-group-item-heading">Colophon</h4>
            <a class='list-group-item' href='http://jekyllrb.com/'>Jekyll
            </a>
            <a class='list-group-item' href='http://getbootstrap.com/'>Twitter Bootstrap
            </a>
            <a class='list-group-item' href='http://bootswatch.com/'>Bootswatch
            </a>
          </div>
        </div>
      </div>
    </div>
    </body>
    </html>
